import{r as e,j as t}from"./vendor-D80FRCUd.js";import{u as a,a as o,m as s,A as i}from"./framer-motion-BcwsrWN3.js";const l=["/photos/wd1.jpg","/photos/wd2.jpg","/photos/wd3.jpg","/photos/wd4.jpg","/photos/wd5.jpg","/photos/wd6.jpg","/photos/wd7.jpg","/photos/wd8.jpg","/photos/wd9.jpg","/photos/wd10.jpg","/photos/wd11.jpg","/photos/wd12.jpg","/photos/wd13.jpg","/photos/wd14.jpg","/photos/hz1.jpg","/photos/hz2.jpg","/photos/hz3.jpg","/photos/hz4.jpg"];function r(){return t.jsx(t.Fragment,{children:[...Array(6)].map((e,a)=>t.jsx(s.div,{className:"absolute pointer-events-none",initial:{x:100*Math.random()-50,y:100*Math.random()-50,scale:.5*Math.random()+.5,opacity:.3+.3*Math.random()},animate:{x:100*Math.random()-50,y:100*Math.random()-50,scale:.5*Math.random()+.5},transition:{duration:10+10*Math.random(),repeat:1/0,repeatType:"reverse",ease:"easeInOut"},children:t.jsx("svg",{width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"#f9c784",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})},a))})}function n(){const[n,d]=e.useState(0),[c,h]=e.useState(!1),[u,m]=e.useState({}),p=e.useRef(null),{scrollYProgress:w}=a(),x=o(w,[0,.5],[50,-50]),g=e=>{if(!u[e]){const t=new Image;t.src=e,t.onload=()=>{m(t=>({...t,[e]:!0}))}}};e.useEffect(()=>{g(l[n]);const e=(n-1+l.length)%l.length;g(l[e]);const t=(n+1)%l.length;g(l[t])},[n]);const f=()=>{c||(h(!0),d(e=>(e-1+l.length)%l.length),setTimeout(()=>h(!1),700))},j=()=>{c||(h(!0),d(e=>(e+1)%l.length),setTimeout(()=>h(!1),700))};return e.useEffect(()=>{var e,t;let a,o,s=!1;a=setInterval(()=>{c||s||j()},5e3);const i=()=>(s=!0,clearTimeout(o),void(o=setTimeout(()=>{s=!1},1e4)));return null==(e=p.current)||e.addEventListener("mouseenter",i),null==(t=p.current)||t.addEventListener("touchstart",i),()=>{var e,t;clearInterval(a),clearTimeout(o),null==(e=p.current)||e.removeEventListener("mouseenter",i),null==(t=p.current)||t.removeEventListener("touchstart",i)}},[n,c]),e.useEffect(()=>{const e=e=>{"ArrowLeft"===e.key&&f(),"ArrowRight"===e.key&&j()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[c]),t.jsx("div",{className:"py-16 px-4",ref:p,children:t.jsxs(s.div,{className:"flex flex-col items-center",style:{y:x},children:[t.jsx(s.h2,{className:"text-3xl md:text-4xl font-cormorant text-[#f9c784] mb-12 text-center",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},children:"美好回忆"}),t.jsxs("div",{className:"relative w-full max-w-3xl aspect-[4/3] flex items-center justify-center",children:[t.jsx(s.div,{className:"absolute w-full h-full rounded-full bg-gradient-to-br from-[#f9c784]/20 to-[#f7d6e0]/10 blur-xl",animate:{scale:[1,1.05,1],opacity:[.5,.7,.5]},transition:{duration:8,repeat:1/0,repeatType:"reverse"}}),t.jsxs("div",{className:"relative z-10 w-full max-w-2xl h-full",children:[t.jsx(r,{}),t.jsx(i,{initial:!1,mode:"wait",children:t.jsx(s.div,{className:"w-full h-full rounded-2xl overflow-hidden shadow-2xl",initial:{opacity:0,rotateY:30},animate:{opacity:1,rotateY:0},exit:{opacity:0,rotateY:-30},transition:{duration:.7,ease:"easeOut"},children:t.jsxs("div",{className:"relative w-full h-full",children:[!u[l[n]]&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100/30 backdrop-blur-sm",children:t.jsx("div",{className:"w-12 h-12 border-4 border-pink-200 border-t-pink-500 rounded-full animate-spin"})}),t.jsx(s.img,{src:l[n],alt:(v=n,["美好时光","甜蜜回忆","幸福瞬间","永恒爱情","浪漫时刻","幸福相伴","爱的誓言","甜蜜约定","温馨瞬间","美好未来","携手一生","爱的见证","幸福旅程","美好祝愿","婚纱照片","婚礼现场","婚礼仪式","婚礼庆典"][v]||`婚礼照片 ${v+1}`),className:"object-cover w-full h-full",initial:{scale:1.1},animate:{scale:1},transition:{duration:1.5},loading:"lazy",onError:e=>{e.target.onerror=null,e.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAwIiBoZWlnaHQ9IjUwMCIgdmlld0JveD0iMCAwIDUwMCA1MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjUwMCIgaGVpZ2h0PSI1MDAiIGZpbGw9IiNGOEU4RUUiLz48dGV4dCB4PSI1MCUiIHk9IjUwJSIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjI0IiBmaWxsPSIjRjQ3QTlFIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIj7lm77niYfliqDovb3lpLHotKU8L3RleHQ+PC9zdmc+"}}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-black/10 pointer-events-none"}),t.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center",children:t.jsxs(s.div,{className:"bg-white/80 backdrop-blur-sm px-4 py-1 rounded-full text-sm text-[#f9c784] font-medium",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[n+1," / ",l.length]})})]})},l[n])}),t.jsx(s.button,{className:"absolute left-4 top-1/2 -translate-y-1/2 z-20 bg-white/80 hover:bg-white text-[#f9c784] rounded-full w-12 h-12 flex items-center justify-center shadow-lg backdrop-blur-sm",onClick:f,"aria-label":"上一张",whileHover:{scale:1.1,boxShadow:"0 0 20px rgba(249, 199, 132, 0.3)"},whileTap:{scale:.95},children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"m15 18-6-6 6-6"})})}),t.jsx(s.button,{className:"absolute right-4 top-1/2 -translate-y-1/2 z-20 bg-white/80 hover:bg-white text-[#f9c784] rounded-full w-12 h-12 flex items-center justify-center shadow-lg backdrop-blur-sm",onClick:j,"aria-label":"下一张",whileHover:{scale:1.1,boxShadow:"0 0 20px rgba(249, 199, 132, 0.3)"},whileTap:{scale:.95},children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"m9 18 6-6-6-6"})})})]})]}),t.jsx("div",{className:"flex gap-2 mt-8",children:l.map((e,a)=>t.jsx(s.button,{className:"rounded-full transition-all duration-300 "+(a===n?"bg-[#f9c784] w-10":"bg-gray-200 w-3"),style:{height:3},onClick:()=>{c||d(a)},"aria-label":`切换到第${a+1}张`,whileHover:{scale:1.2},whileTap:{scale:.9}},e))}),t.jsx(s.div,{className:"mt-12 text-center text-xl md:text-2xl text-[#f9c784] font-cursive select-none max-w-md px-4",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:1,delay:.3},animate:{opacity:[.8,1,.8],transition:{duration:4,repeat:1/0,delay:1.3}},children:"“愿有岁月可回首，且以深情共白头。”"})]})});var v}export{n as default};
